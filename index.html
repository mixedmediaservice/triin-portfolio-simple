<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triin Ruumet - Film Director & Producer</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/favicon.png">
    
    <!-- Shared Navigation System -->
    <script src="shared-navigation.js"></script>
    
    <!-- EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
        // Initialize EmailJS when page loads
        window.addEventListener('load', function() {
            if (typeof emailjs !== 'undefined') {
                emailjs.init("Q8mF-kCkl5IzUVp2b");
                console.log('EmailJS initialized successfully');
            } else {
                console.error('EmailJS failed to load');
            }
        });
    </script>
</head>
<body class="home-page">
    <!-- Navigation will be injected by shared-navigation.js -->

    <!-- Hero Section -->
    <section id="home" class="hero">
        <video class="hero-video" 
               autoplay 
               muted 
               loop 
               playsinline 
               controls="false"
               disablepictureinpicture
               webkit-playsinline="true"
               x5-playsinline="true"
               x5-video-player-type="h5"
               x5-video-player-fullscreen="true">
            <source src="images/hero-video.mp4" type="video/mp4">
            <source src="images/hero-video.webm" type="video/webm">
        </video>
    </section>

    <!-- Films Section -->
    <section id="films" class="section">
        <h2 class="section-title"><span class="content-en">FILMS</span><span class="content-ee">FILMID</span></h2>
        <div class="films-grid">
            <div class="film-card" onclick="location.href='projects/dark-paradise.html'">
                <img src="images/films/dark-paradise/dark-paradise-cover.jpg" alt="Dark Paradise">
                <div class="film-overlay">
                    <h3 class="film-title">Dark Paradise</h3>
                    <p class="film-meta">2023 • Feature Film • 1hr 51min</p>
                </div>
            </div>
            <div class="film-card" onclick="location.href='projects/the-days-that-confused.html'">
                <img src="images/films/the-days-that-confused/the-days-that-confused-cover.jpg" alt="The Days That Confused">
                <div class="film-overlay">
                    <h3 class="film-title">The Days That Confused</h3>
                    <p class="film-meta">2016 • Feature Film • 1hr 45min</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Commercial Section -->
    <section id="commercial" class="section commercial">
        <h2 class="section-title"><span class="content-en">COMMERCIAL</span><span class="content-ee">REKLAAM</span></h2>
        <div class="commercial-grid">
            <div class="commercial-card" onclick="location.href='projects/saku-on-ice.html'">
                <img src="images/commercial/saku-on-ice/saku-on-ice-cover.jpg" alt="Saku On Ice">
                <div class="commercial-info">
                    <h3 class="commercial-title">Saku On Ice</h3>
                </div>
            </div>
            <div class="commercial-card" onclick="location.href='projects/koik-on-tehtav.html'">
                <img src="images/commercial/koik-on-tehtav/koik-on-tehtav-cover.jpg" alt="Kõik on tehtav!">
                <div class="commercial-info">
                    <h3 class="commercial-title">Kõik on tehtav!</h3>
                </div>
            </div>
            <div class="commercial-card" onclick="location.href='projects/meliva-imago.html'">
                <img src="images/commercial/meliva-imago/meliva-imago-cover.jpg" alt="Meliva Imago">
                <div class="commercial-info">
                    <h3 class="commercial-title">Meliva Imago</h3>
                </div>
            </div>
            <div class="commercial-card" onclick="location.href='projects/coop-pank-kaardivagi.html'">
                <img src="images/commercial/coop-pank-kaardivagi/coop-pank-kaardivagi-cover.jpg" alt="Coop Pank Kaardivagi">
                <div class="commercial-info">
                    <h3 class="commercial-title">Coop Pank Kaardivagi</h3>
                </div>
            </div>
            <div class="commercial-card" onclick="location.href='projects/miljardid-protsendid.html'">
                <img src="images/commercial/miljardid-protsendid/miljardid-protsendid-cover.jpg" alt="Miljardid - Protsendid saavad otsa">
                <div class="commercial-info">
                    <h3 class="commercial-title">Miljardid - Protsendid saavad otsa</h3>
                </div>
            </div>
            <div class="commercial-card" onclick="location.href='projects/anna-arile-vunki.html'">
                <img src="images/commercial/anna-arile-vunki/anna-arile-vunki-cover.jpg" alt="Anna ärile vunki juurde!">
                <div class="commercial-info">
                    <h3 class="commercial-title">Anna ärile vunki juurde!</h3>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="section">
        <h2 class="section-title"><span class="content-en">ABOUT</span><span class="content-ee">BIO</span></h2>
        <div class="about-content">
            <div class="content-en">
                <p class="about-text">
                    Triin Ruumet is an acclaimed Estonian film director whose distinctive vision and storytelling prowess have earned her a place on the international stage. Her original films, which she both writes and directs, have captivated audiences and critics alike, premiering at prestigious festivals such as the Karlovy Vary International Film Festival and the Tallinn Black Nights Film Festival.
                </p>
                <p class="about-text">
                    In addition to her celebrated film work, Ruumet is a skilled videographer, bringing a cinematic touch to a range of commercial projects. This includes agency-led social media campaigns that maintain a cinematic quality while meeting the unique demands of digital platforms.
                </p>
            </div>
            <div class="content-ee">
                <p class="about-text">
                    Triin Ruumet on tunnustatud eesti filmirežissöör, kelle ainulaadne visioon ja loojutustamisoskus on toonud talle rahvusvahelise tunnustuse. Ruumeti kirjutatud ja lavastatud originaalfilmid on lummanud nii publikut kui ka kriitikuid, esilinastudes mainekatel festivalidel, sealhulgas Karlovy Vary rahvusvahelisel filmifestivalil ja Pimedate Ööde filmifestivalil Tallinnas.
                </p>
                <p class="about-text">
                    Lisaks oma hinnatud filmitööle on Ruumet osav videograaf, tuues kinematograafilist hõngu erinevatesse kommertsprojektidesse ja sotsiaalmeedia kampaaniatesse. Nendes projektides püüdleb ta alati filmikvaliteedi saavutamise poole, vastates samas erinevate digikanalite nõudmistele.
                </p>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="section contact">
        <h2 class="section-title"><span class="content-en">CONTACT</span><span class="content-ee">KONTAKT</span></h2>
        <div class="contact-content">
            <div class="content-en">
                <p class="about-text">
                    Open to new opportunities and collaborations that align with a passion for storytelling, whether in film, commercial projects or social media.
                </p>
                <p class="about-text">
                    For any questions or enquiries please complete the form below
                </p>
            </div>
            <div class="content-ee">
                <p class="about-text">
                    Olen avatud uutele ideedele ja koostööle, mis on kooskõlas kirega jutustada lugusid, olgu selleks siis filmid, kommertsprojektid või sotsiaalmeedia kampaaniad.
                </p>
                <p class="about-text">
                    Ettepanekute puhul täida palun allolev vorm :)
                </p>
            </div>
            <form class="contact-form" id="contact-form">
                <div class="form-group">
                    <label for="name">
                        <span class="content-en">Name</span>
                        <span class="content-ee">Nimi</span>
                    </label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">
                        <span class="content-en">Email</span>
                        <span class="content-ee">Email</span>
                    </label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="project">
                        <span class="content-en">Project Type</span>
                        <span class="content-ee">Projekti Tüüp</span>
                    </label>
                    <input type="text" id="project" name="project" 
                           placeholder="Feature Film, Commercial, Documentary..." 
                           data-placeholder-en="Feature Film, Commercial, Documentary..."
                           data-placeholder-ee="Mängufilm, Reklaam, Dokumentaal...">
                </div>
                <div class="form-group">
                    <label for="message">
                        <span class="content-en">Message</span>
                        <span class="content-ee">Sõnum</span>
                    </label>
                    <textarea id="message" name="message" rows="5" required></textarea>
                </div>
                <button type="submit" class="submit-btn" id="submit-btn">
                    <span class="content-en">Send Message</span>
                    <span class="content-ee">Saada Sõnum</span>
                </button>
            </form>
        </div>
    </section>

    <script>
        // Enhanced EmailJS form with language-aware messages
        function initializeContactForm() {
            const contactForm = document.getElementById('contact-form');
            if (!contactForm) return;

            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Check if EmailJS is loaded
                if (typeof emailjs === 'undefined') {
                    console.error('EmailJS is not loaded');
                    alert('Email service is not available. Please try again later.');
                    return;
                }
                
                const submitBtn = document.getElementById('submit-btn');
                const originalText = submitBtn.innerHTML;
                
                // Get current language for messages
                const currentLang = sharedNav ? sharedNav.currentLang : 'en';
                const isEstonian = currentLang === 'ee';
                
                // Show loading state
                if (isEstonian) {
                    submitBtn.innerHTML = 'Saadan...';
                } else {
                    submitBtn.innerHTML = 'Sending...';
                }
                submitBtn.disabled = true;
                
                // Get form data
                const templateParams = {
                    from_name: document.getElementById('name').value,
                    from_email: document.getElementById('email').value,
                    project_type: document.getElementById('project').value,
                    message: document.getElementById('message').value
                };
                
                console.log('Sending email with params:', templateParams);
                
                // Send email using EmailJS
                emailjs.send('service_jcm6n1o', 'template_4t3k57a', templateParams)
                    .then(function(response) {
                        console.log('SUCCESS!', response.status, response.text);
                        
                        // Success message in current language
                        const successMessage = isEstonian ? 
                            'Aitäh sõnumi eest! Võtan teiega peagi ühendust.' :
                            'Thank you for your message! I will get back to you soon.';
                        
                        alert(successMessage);
                        
                        // Reset form
                        contactForm.reset();
                        
                    })
                    .catch(function(error) {
                        console.log('FAILED...', error);
                        
                        // Error message in current language
                        let errorMessage;
                        if (error.status === 418) {
                            errorMessage = isEstonian ? 
                                'Emaili teenuse viga. Kontrollige teenuse seadistusi.' :
                                'Email service error. Please check service settings.';
                        } else if (error.status === 400) {
                            errorMessage = isEstonian ? 
                                'Viga sõnumi vormingus. Kontrollige kõiki välju.' :
                                'Error in message format. Please check all fields.';
                        } else {
                            errorMessage = isEstonian ? 
                                'Viga sõnumi saatmisel. Proovige uuesti.' :
                                'Error sending message. Please try again.';
                        }
                        
                        alert(errorMessage);
                    })
                    .finally(function() {
                        // Reset button state
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                    });
            });
        }

        // Hero video mobile controls fix
        function initializeHeroVideo() {
            const heroVideo = document.querySelector('.hero-video');
            
            if (heroVideo) {
                // Force remove controls
                heroVideo.controls = false;
                heroVideo.setAttribute('controls', 'false');
                heroVideo.removeAttribute('controls');
                
                // Ensure autoplay on mobile
                heroVideo.muted = true;
                heroVideo.autoplay = true;
                heroVideo.loop = true;
                heroVideo.playsInline = true;
                
                // Additional mobile attributes
                heroVideo.setAttribute('playsinline', 'true');
                heroVideo.setAttribute('webkit-playsinline', 'true');
                heroVideo.setAttribute('x5-playsinline', 'true');
                
                // Disable right-click context menu
                heroVideo.addEventListener('contextmenu', function(e) {
                    e.preventDefault();
                    return false;
                });
                
                // Disable touch interactions that might show controls
                heroVideo.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                });
                
                heroVideo.addEventListener('touchend', function(e) {
                    e.preventDefault();
                });
                
                // Force play on mobile if autoplay fails
                const playPromise = heroVideo.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.log('Autoplay prevented:', error);
                        // On mobile, user interaction might be required
                        document.addEventListener('touchstart', function() {
                            heroVideo.play();
                        }, { once: true });
                    });
                }
                
                console.log('Hero video initialized for mobile');
            }
        }

        // Initialize everything when DOM is ready
        document.addEventListener('DOMContentLoaded', function() {
            initializeContactForm();
            initializeHeroVideo();
        });
    </script>
</body>
</html>